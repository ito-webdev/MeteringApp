# 検針アプリ ディレクトリ構成

MeteringApp/
├─ .env（未実装：環境変数を管理。DBの認証情報などを設定。Gitにコミットしない）
├─ .env.example（未実装：環境変数のテンプレート）
├─ .gitignore（実装済：Git管理外にするファイルを指定）
├─ composer.json（未実装：PHP依存パッケージ管理用）
├─ public/（Web公開ルート：静的ファイルや簡易APIエンドポイント）
│  ├─ index.html（実装済：検針カードUI表示メインページ）
│  ├─ pages/
│  │   ├─ history.html（未実装：履歴ページ）
│  │   └─ settings.html（未実装：設定ページ）
│  ├─ assets/
│  │   ├─ css/（スタイルシート）
│  │   │   ├─ style.css（実装済：基本スタイル）
│  │   │   └─ meter.css（実装済：検針カードUI用スタイル）
│  │   ├─ js/（JavaScriptモジュール群）
│  │   │   ├─ app.js（実装済：アプリ起動とイベント管理用エントリポイント）
│  │   │   ├─ meters.js（実装済：サンプルデータや定数の管理）
│  │   │   ├─ ui/
│  │   │   │   ├─ renderMeters.js（実装済：検針カードのレンダリング）
│  │   │   │   ├─ thumbnails.js（実装済：写真サムネイルと詳細表示イベント処理）
│  │   │   │   └─ chart.js（実装済：使用量グラフ表示）
│  │   │   └─ utils/
│  │   │       └─ dom.js（実装済：共通DOM操作ユーティリティ関数）
│  │   └─ img/（未実装：画像格納用）※ユーザーアップロード画像など
│  └─ api/
│      ├─ record.php（未実装：検針記録データのAPIエンドポイント）
│      └─ upload.php（未実装：画像アップロード用のAPIエンドポイント）
├─ src/（未実装：アプリケーションロジックやDBアクセス関連。外部公開されないPHPコード）
│  ├─ models/
│  │   └─ Meter.php（未実装：検針データモデル）
│  ├─ services/
│  │   └─ UsageService.php（未実装：使用量計算などビジネスロジック）
│  └─ utils/
│      └─ Database.php（未実装：DB接続用のユーティリティ）
├─ vendor/（未実装：Composerでインストールされる依存ライブラリ）
├─ docs/（ドキュメント）
│  ├─ README.md（未実装：アプリ概要やセットアップ手順を記載）
│  └─ spec.md（未実装：仕様書・要件定義書）
└─ tests/（未実装：単体/統合テスト）
└─ meters.test.js（未実装：検針データのテスト）

---

## ディレクトリ・ファイルの役割

| ディレクトリ・ファイル | 説明                                       |
| ----------- | ---------------------------------------- |
| **.env**    | DBの認証情報など機密情報を設定するファイル（Gitにコミットしない）      |
| **public/** | 公開用の静的ファイルおよび簡易APIエンドポイント                |
| **src/**    | アプリケーションロジック・データベース接続処理（Webから直接アクセスできない） |
| **docs/**   | プロジェクトのドキュメント（このファイル・仕様書など）              |
| **vendor/** | Composer依存ライブラリ                          |
| **tests/**  | 単体テスト・統合テスト                              |

---

## 運用上の注意点

* `.env` ファイルは絶対にGitにコミットしないよう注意すること。
* API用のPHPファイル（record.php, upload.php）は認証処理・バリデーション処理を十分に実装した上で運用する。
* `vendor` フォルダはComposerを使用して適切に依存管理を行う。
* ユーザーがアップロードした画像は `public/assets/img/` へ格納されるようAPIで実装を進める。
* `tests` フォルダにユニットテストを追加し、定期的にテストを実行して動作確認を行う。

現在、静的なUIとデータ表示のみが実装済みです。次の段階として、PHPによるサーバーサイドAPIやデータベース接続処理の実装を進めていきます。
